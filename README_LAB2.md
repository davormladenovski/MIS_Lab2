# Лабораториска вежба 2 - Meal App надградба

## Што е имплементирано:

### ✅ 1. Омилени рецепти
- Додавање на омилени рецепти со клик на срцето
- Нов екран за приказ на сите омилени рецепти
- Отстранување на омилени рецепти
- Локално зачувување со SharedPreferences

### ✅ 2. Firebase интеграција
- Firebase Core инициализација
- Firebase Cloud Messaging поддршка
- Конфигурација за Android и iOS

### ✅ 3. Нотификации
- Локални нотификации за дневен рецепт
- Автоматска закажување за 18:00 секој ден
- Firebase Cloud Messaging поддршка

## Структура на кодот:

```
lib/
├── main.dart                          # Firebase инициализација
├── models/                            # Модели
├── screens/
│   ├── categories_screen.dart         # Главен екран (додадено копче за омилени)
│   ├── meals_screen.dart              # Листа на рецепти (користи MealCard)
│   ├── recipe_detail_screen.dart      # Детали за рецепт (додадено копче за омилен)
│   └── favorites_screen.dart          # НОВО: Екран за омилени рецепти
├── services/
│   ├── meal_service.dart              # Сервис за API повици
│   ├── favorites_service.dart         # НОВО: Сервис за омилени
│   └── notification_service.dart       # НОВО: Сервис за нотификации
└── widgets/
    └── meal_card.dart                 # НОВО: Картичка со копче за омилен
```

## Брз старт за iOS симулатор:

### 1. Инсталирај ги зависимостите:
```bash
cd meal_app
flutter pub get
```

### 2. (Опционално) Конфигурирај Firebase:
Следете го `IOS_SETUP.md` или `FIREBASE_SETUP.md` водичот.

**ВАЖНО:** Ако не конфигурираш Firebase, локалните нотификации ќе работат, но ќе имаш warning во конзолата.

### 3. Стартувај ја апликацијата:
```bash
flutter run
```

## Како да тестираш:

### Омилени рецепти:
1. Отвори ја апликацијата
2. Оди на некоја категорија (на пр. "Beef")
3. Кликни на срцето на картичката за да додадеш рецепт во омилени
4. Кликни на срцето во AppBar (горен десен агол) за да ги видиш омилените
5. Кликни на срцето повторно за да го отстраниш од омилени

### Нотификации:
1. При прво стартување, апликацијата ќе праша за дозвола за нотификации
2. Дозволи пристап
3. Нотификациите ќе се појават во 18:00 секој ден
4. За тестирање, можеш да го промениш времето во `lib/services/notification_service.dart` (линија 175) - на пример, закажи за 1-2 минути од сега

## Документација:

- `FIREBASE_SETUP.md` - Детални инструкции за конфигурација на Firebase
- `IOS_SETUP.md` - Краток водич специфично за iOS симулатор
- `IMPLEMENTATION_SUMMARY.md` - Детално објаснување на имплементацијата

## Важни забелешки:

- ✅ Локалните нотификации **работат на iOS симулатор**
- ⚠️ Push нотификациите може да не работат на симулатор (треба физички уред)
- За лабораториската вежба, локалните нотификации се доволни
- Омилените рецепти се зачувуваат локално на уредот
- Ако не конфигурираш Firebase, апликацијата ќе работи но ќе прикаже warning

## Ако имаш проблеми:

1. **Грешка со зависимости:**
   ```bash
   flutter clean
   flutter pub get
   ```

2. **Грешка со iOS pods:**
   ```bash
   cd ios
   rm -rf Pods Podfile.lock
   pod install
   cd ..
   ```

3. **Нотификациите не работат:**
   - Провери дали си дозволил нотификации
   - Провери Settings → Notifications → Meal App (на симулатор)
   - За тестирање, промени го времето во `notification_service.dart`


